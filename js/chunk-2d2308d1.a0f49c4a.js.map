{"version":3,"sources":["webpack:///./src/views/front/Products.vue","webpack:///./src/views/front/Products.vue?6e34"],"names":["class","role","aria-hidden","products","item","key","id","style","imageUrl","title","origin_price","price","unit","type","goToProduct","addCart","cartLoading","getProductsLoading","data","methods","getProductData","this","url","$http","get","then","res","success","catch","err","console","dir","productId","$router","push","qty","obj","product_id","post","created","render"],"mappings":"0IACOA,MAAM,Q,EACT,eAAiC,MAA7BA,MAAM,eAAc,QAAI,G,GACvBA,MAAM,iC,GACJA,MAAM,oC,GAEFA,MAAM,Q,GAGJA,MAAM,a,GACLA,MAAM,c,GACPA,MAAM,+C,GACNA,MAAM,kB,GACmBA,MAAM,a,GAG/BA,MAAM,+B,SAKHA,MAAM,mCACRC,KAAK,SAASC,cAAY,Q,iBACY,S,SAOjDF,MAAM,W,EACT,eAEM,OAFDA,MAAM,0BAA0BC,KAAK,U,CACxC,eAA+C,QAAzCD,MAAM,mBAAkB,gB,+EA/BlC,eA4BM,MA5BN,EA4BM,CA3BJ,EACA,eAyBM,MAzBN,EAyBM,CAxBJ,eAuBM,MAvBN,EAuBM,E,mBAtBJ,eAqBM,2BArB0B,EAAAG,UAAQ,SAAhBC,G,wBAAxB,eAqBM,OArBDJ,MAAM,MAAgCK,IAAKD,EAAKE,I,CACnD,eAmBM,MAnBN,EAmBM,CAlBJ,eAC4D,OADvDN,MAAM,sBACVO,MAAK,kCAA6BH,EAAKI,SAAlC,O,QACN,eAMM,MANN,EAMM,CALJ,eAA0C,KAA1C,EAA0C,eAAjBJ,EAAKK,OAAK,GACnC,eAAsF,IAAtF,EAAuD,SAAM,eAAEL,EAAKM,cAAY,GAChF,eAEI,IAFJ,EAEI,C,eAFsB,UAClB,eAAEN,EAAKO,OAAK,GAAE,eAA+C,OAA/C,EAAwB,KAAE,eAAEP,EAAKQ,MAAM,IAAC,OAGhE,eAQM,MARN,EAQM,CAPJ,eAC2C,UADnCC,KAAK,SAASb,MAAM,oCAC3B,QAAK,mBAAE,EAAAc,YAAYV,EAAKE,MAAK,OAAI,eAClC,eAIwD,UAJhDO,KAAK,SACbb,MAAM,+CAAgD,QAAK,mBAAE,EAAAe,QAAQX,EAAKE,M,CAGhE,EAAAU,cAAgBZ,EAAKE,I,iBAF/B,eAE0C,OAF1C,I,6DASe,EAAAW,oB,iBAA3B,eAIM,MAJN,EAIM,CAHJ,K,8DASW,GACbC,KADa,WAEX,MAAO,CACLf,SAAU,GACVa,YAAa,GACbC,oBAAoB,IAGxBE,QAAS,CACPC,eADO,WACU,WACfC,KAAKJ,oBAAqB,EAC1B,IAAMK,EAAE,UAAO,wCAAP,eAAqC,UAArC,aACRD,KAAKE,MAAMC,IAAIF,GACZG,MAAK,SAACC,GACDA,EAAIR,KAAKS,UACX,EAAKxB,SAAWuB,EAAIR,KAAKf,SACzB,EAAKc,oBAAqB,MAG7BW,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAGlBf,YAfO,SAeKkB,GACVX,KAAKY,QAAQC,KAAb,mBAA8BF,KAEhCjB,QAlBO,SAkBCiB,GAAoB,WAATG,EAAS,uDAAH,EACvBd,KAAKL,YAAcgB,EACnB,IAAMI,EAAM,CACVlB,KAAM,CACJmB,WAAYL,EACZG,QAGEb,EAAE,UAAO,wCAAP,eAAqC,UAArC,SACRD,KAAKE,MAAMe,KAAKhB,EAAKc,GAClBX,MAAK,SAACC,GACDA,EAAIR,KAAKS,SACX,IAAK,uBACL,EAAKX,YAAc,KAEnB,IAAK,mBACL,EAAKA,YAAc,OAGtBY,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAIpBU,QAlDa,WAmDXlB,KAAKD,mBCxFT,EAAOoB,OAASA,EAED","file":"js/chunk-2d2308d1.a0f49c4a.js","sourcesContent":["<template>\n  <div class=\"py-4\">\n    <h2 class=\"text-center\">產品列表</h2>\n    <div class=\"productListArea row gx-4 mb-5\">\n      <div class=\"row row-cols-1 row-cols-md-3 g-4\">\n        <div class=\"col\" v-for=\"item in products\" :key=\"item.id\">\n          <div class=\"card\">\n            <div class=\"imgArea rounded-top\"\n            :style=\"{'background-image':`url(${item.imageUrl})`}\"></div>\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">{{item.title}}</h5>\n              <p class=\"card-text text-decoration-line-through mb-2\">原價：NT${{item.origin_price}}</p>\n              <p class=\"card-text fs-4\">\n                特價：NT${{item.price}}<span class=\"fs-6 mx-2\">(每{{item.unit}})</span>\n              </p>\n            </div>\n            <div class=\"d-grid p-0 bg-white btnArea\">\n              <button type=\"button\" class=\"btn btn-outline-warning rounded-0\"\n              @click=\"goToProduct(item.id)\">詳細內容</button>\n              <button type=\"button\"\n              class=\"btn btn-danger rounded-0 rounded-bottom py-2\" @click=\"addCart(item.id)\">\n              <span class=\"spinner-border spinner-border-sm\"\n                  role=\"status\" aria-hidden=\"true\"\n                  v-if=\"cartLoading === item.id\"></span>加入購物車</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"loading\" v-if=\"getProductsLoading\">\n    <div class=\"loadIcon spinner-border\" role=\"status\">\n      <span class=\"visually-hidden\">Loading...</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swal from 'sweetalert';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      cartLoading: '',\n      getProductsLoading: true,\n    };\n  },\n  methods: {\n    getProductData() {\n      this.getProductsLoading = true;\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/products`;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.getProductsLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    goToProduct(productId) {\n      this.$router.push(`/product/${productId}`);\n    },\n    addCart(productId, qty = 1) {\n      this.cartLoading = productId;\n      const obj = {\n        data: {\n          product_id: productId,\n          qty,\n        },\n      };\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.post(url, obj)\n        .then((res) => {\n          if (res.data.success) {\n            swal('加入購物車成功，可以至購物車分頁查看！');\n            this.cartLoading = '';\n          } else {\n            swal('加入購物車失敗，請稍後再嘗試！');\n            this.cartLoading = '';\n          }\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n  },\n  created() {\n    this.getProductData();\n  },\n};\n</script>\n","import { render } from \"./Products.vue?vue&type=template&id=47cd5ed6\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}